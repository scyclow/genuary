<!DOCTYPE html>
<html translate="no" lang="en" class="notranslate">
<head>
  <meta charset="utf-8">
  <meta name="google" content="notranslate" />
  <title>WorldWideWeb</title>
  <script>
    function genTokenData(projectNum) {

      const tokenId = String(projectNum * 1000000 + Math.floor(Math.random() * 1000))
      let hash = '0x'
      if (window.location.search.includes('?hash=')) {
        hash = window.location.search.slice(6)
      } else {
        for (let i = 0; i < 64; i++) {
          hash += Math.floor(Math.random() * 16).toString(16)
        }
        window.location.hash = '#' + hash

        const last10hashes = JSON.parse(localStorage.getItem('last10Hashes')) || []
        last10hashes.unshift(hash)

        localStorage.setItem('last10Hashes', JSON.stringify(last10hashes.slice(0, 10)))
      }
      return {
        hash,
        tokenId
      }
    }

    const tokenData = genTokenData(999)
    console.log(tokenData.hash)
  </script>
</head>
<body>

</body>

<script src="./utils.js"></script>
<script src="./metadata.js"></script>
<script src="./layout.js"></script>
<script>
css`
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }


  .center {
    padding: 1em;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column
  }

  body {
    background: #000;
  }

  @keyframes Radiate {
    0% {
      color: hsl(0deg, 100%, 50%);
    }

    16.666% {
      color: hsl(60deg, 100%, 50%);
    }


    33.333% {
      color: hsl(120deg, 100%, 50%);
    }

    50% {
      color: hsl(180deg, 100%, 50%);
    }

    66.666% {
      color: hsl(240deg, 100%, 50%);
    }


    83.333% {
      color: hsl(300deg, 100%, 50%);
    }

    100% {
      color: hsl(360deg, 100%, 50%);
    }
  }
`

const createChild = (parentLevel, level=0, childNumber=0) => $.div(
  level < (14 - parentLevel*2) && createChild(parentLevel, level+1, childNumber),
  {
    style: `
      padding: 5%;
      border: 1px solid;
      display: flex;
      width: 100%;
      animation: Radiate 6s linear infinite;
      animation-delay: -${6/((level+parentLevel)*childNumber)}s

    `,
  }
)

const createBox = (level=0, hasChildren=true) => $.div(
  times(4, c => hasChildren
    ? createBox(level+1, level < 4 && prb(0.75))
    : createChild(level, 0, c)
  ),
  {
    style: `

      display: grid;
      grid-template-columns: 1fr 1fr;
      grid-template-rows: 1fr 1fr;
      height: ${100/(2**level)}vh;
      justify-content: center;
      align-content: center;

    `
  }
)

$.render($body, createBox())







</script>


</html>